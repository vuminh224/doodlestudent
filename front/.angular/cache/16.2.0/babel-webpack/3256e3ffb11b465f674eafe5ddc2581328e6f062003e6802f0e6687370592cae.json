{"ast":null,"code":"import { PollService } from '../poll-service.service';\nimport { FullCalendarComponent } from '@fullcalendar/angular';\nimport frLocale from '@fullcalendar/core/locales/fr';\nimport { MessageService } from 'primeng/api';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { ModalPollClosComponent } from '../modal-poll-clos/modal-poll-clos.component';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"primeng/api\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../poll-service.service\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@fullcalendar/angular\";\nimport * as i8 from \"primeng/toast\";\nimport * as i9 from \"primeng/inputswitch\";\nimport * as i10 from \"primeng/card\";\nimport * as i11 from \"primeng/button\";\nimport * as i12 from \"primeng/inputtext\";\nimport * as i13 from \"primeng/inputtextarea\";\nimport * as i14 from \"primeng/selectbutton\";\nimport * as i15 from \"primeng/checkbox\";\nimport * as i16 from \"../top-bar/top-bar.component\";\nimport * as i17 from \"../show-comments/show-comments.component\";\nimport * as i18 from \"../dateago.pipe\";\nimport * as i19 from \"../username-pipe.pipe\";\nimport * as i20 from \"../selecteddate4user-pipe.pipe\";\nconst _c0 = [\"calendar\"];\nfunction AnswerPollComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.poll == null ? null : ctx_r0.poll.title);\n  }\n}\nfunction AnswerPollComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"dateago\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Cr\\u00E9\\u00E9 il y a \", i0.ɵɵpipeBind1(3, 1, ctx_r1.poll == null ? null : ctx_r1.poll.createdAt), \"\");\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 32);\n    i0.ɵɵelement(2, \"path\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Cet \\u00E9v\\u00E8nement contient un repas \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AnswerPollComponent_ng_template_7_small_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 34);\n    i0.ɵɵtext(1, \"Le nom est requis.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AnswerPollComponent_ng_template_7_i_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 35);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_small_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 34);\n    i0.ɵɵtext(1, \"Le mail est requis.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_26_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 35);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"label\", 36);\n    i0.ɵɵtext(2, \"URL ICS du participant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 21);\n    i0.ɵɵtemplate(4, AnswerPollComponent_ng_template_7_div_26_i_4_Template, 1, 0, \"i\", 22);\n    i0.ɵɵelementStart(5, \"input\", 37, 24);\n    i0.ɵɵlistener(\"change\", function AnswerPollComponent_ng_template_7_div_26_Template_input_change_5_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.getICS());\n    })(\"ngModelChange\", function AnswerPollComponent_ng_template_7_div_26_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.personalInformation.ics = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.loadics);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r10.personalInformation.ics);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"p\", 25);\n    i0.ɵɵtext(2, \"Avez vous des pr\\u00E9f\\u00E9rences alimentaires ?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p-inputSwitch\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function AnswerPollComponent_ng_template_7_div_27_Template_p_inputSwitch_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.personalInformation.pref = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.personalInformation.pref);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_28_small_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 34);\n    i0.ɵɵtext(1, \"La description est requise.\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"p-invalid\": a0\n  };\n};\nfunction AnswerPollComponent_ng_template_7_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"label\", 38);\n    i0.ɵɵtext(2, \"Description pr\\u00E9f\\u00E9rences alimentaires\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"textarea\", 39, 40);\n    i0.ɵɵlistener(\"ngModelChange\", function AnswerPollComponent_ng_template_7_div_28_Template_textarea_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.personalInformation.desc = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, AnswerPollComponent_ng_template_7_div_28_small_5_Template, 2, 0, \"small\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r23 = i0.ɵɵreference(4);\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r12.personalInformation.desc)(\"ngClass\", i0.ɵɵpureFunction1(3, _c1, _r23.invalid && ctx_r12.submitted || _r23.dirty && _r23.invalid));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r23.invalid && ctx_r12.submitted || _r23.dirty && _r23.invalid);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_ng_template_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"i\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r27 = ctx.$implicit;\n    i0.ɵɵclassMap(item_r27.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Vue \", item_r27.text, \"\");\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"full-calendar\", 41, 42);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"options\", ctx_r14.options);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_33_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ev_r36 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(2, 1, ev_r36.start, \"EEEE d LLLL\", \"CEST\", \"fr\"));\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_33_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelement(3, \"BR\");\n    i0.ɵɵtext(4, \"-\");\n    i0.ɵɵelement(5, \"BR\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ev_r37 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(2, 2, ev_r37.start, \"H:mm\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(7, 5, ev_r37.end, \"H:mm\"), \"\");\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_33_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"s\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_33_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pc_r38 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pc_r38.users.length);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_33_tr_18_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 53);\n    i0.ɵɵelement(1, \"p-checkbox\", 55);\n    i0.ɵɵpipe(2, \"selecteddate4userPipe\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ev_r41 = ctx.$implicit;\n    const u_r39 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", true)(\"binary\", true)(\"ngModel\", i0.ɵɵpipeBind3(2, 3, u_r39.value, u_r39.key, ev_r41));\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_33_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"input\", 54);\n    i0.ɵɵpipe(3, \"usernamePipe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AnswerPollComponent_ng_template_7_div_33_tr_18_td_4_Template, 3, 7, \"td\", 48);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const u_r39 = ctx.$implicit;\n    const ctx_r33 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", true)(\"ngModel\", i0.ɵɵpipeBind2(3, 3, ctx_r33.uniqueUsers, u_r39.key));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r33.events);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_33_td_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 53)(1, \"p-checkbox\", 56);\n    i0.ɵɵlistener(\"onChange\", function AnswerPollComponent_ng_template_7_div_33_td_24_Template_p_checkbox_onChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const ev_r43 = restoredCtx.$implicit;\n      const ctx_r44 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r44.updateEvent($event, ev_r43));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ev_r43 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"binary\", true)(\"ngModel\", ev_r43.extendedProps.selected);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r47 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\");\n    i0.ɵɵelementStart(2, \"div\", 43)(3, \"div\", 44)(4, \"table\", 45)(5, \"thead\")(6, \"tr\");\n    i0.ɵɵelement(7, \"th\", 46);\n    i0.ɵɵtemplate(8, AnswerPollComponent_ng_template_7_div_33_th_8_Template, 3, 6, \"th\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"tr\");\n    i0.ɵɵtemplate(10, AnswerPollComponent_ng_template_7_div_33_th_10_Template, 8, 8, \"th\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"th\")(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, AnswerPollComponent_ng_template_7_div_33_span_15_Template, 2, 0, \"span\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, AnswerPollComponent_ng_template_7_div_33_th_16_Template, 2, 1, \"th\", 48);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, AnswerPollComponent_ng_template_7_div_33_tr_18_Template, 5, 6, \"tr\", 49);\n    i0.ɵɵpipe(19, \"keyvalue\");\n    i0.ɵɵelementStart(20, \"tr\")(21, \"td\")(22, \"input\", 50, 51);\n    i0.ɵɵlistener(\"ngModelChange\", function AnswerPollComponent_ng_template_7_div_33_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r47);\n      const ctx_r46 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r46.personalInformation.nom = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(24, AnswerPollComponent_ng_template_7_div_33_td_24_Template, 2, 2, \"td\", 48);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.events);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.events);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r15.uniqueUsers.length + 1, \" participant\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.uniqueUsers.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.poll == null ? null : ctx_r15.poll.pollChoices);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(19, 8, ctx_r15.userChoices));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r15.personalInformation.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.events);\n  }\n}\nfunction AnswerPollComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"p\", 9);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 10);\n    i0.ɵɵelement(3, \"path\", 11)(4, \"circle\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, AnswerPollComponent_ng_template_7_div_6_Template, 4, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"div\", 14)(8, \"div\", 15)(9, \"label\", 16);\n    i0.ɵɵtext(10, \"Nom pr\\u00E9nom participant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 17, 18);\n    i0.ɵɵlistener(\"ngModelChange\", function AnswerPollComponent_ng_template_7_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.personalInformation.nom = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, AnswerPollComponent_ng_template_7_small_13_Template, 2, 0, \"small\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 15)(15, \"label\", 20);\n    i0.ɵɵtext(16, \"Email participant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 21);\n    i0.ɵɵtemplate(18, AnswerPollComponent_ng_template_7_i_18_Template, 1, 0, \"i\", 22);\n    i0.ɵɵelementStart(19, \"input\", 23, 24);\n    i0.ɵɵlistener(\"change\", function AnswerPollComponent_ng_template_7_Template_input_change_19_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.getUserFromMail());\n    })(\"ngModelChange\", function AnswerPollComponent_ng_template_7_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.personalInformation.mail = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(21, AnswerPollComponent_ng_template_7_small_21_Template, 2, 0, \"small\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 15)(23, \"p\", 25);\n    i0.ɵɵtext(24, \"Avez vous un agenda avec un flux ics accessible ?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p-inputSwitch\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function AnswerPollComponent_ng_template_7_Template_p_inputSwitch_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r52 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r52.hasics = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(26, AnswerPollComponent_ng_template_7_div_26_Template, 7, 2, \"div\", 27);\n    i0.ɵɵtemplate(27, AnswerPollComponent_ng_template_7_div_27_Template, 4, 1, \"div\", 27);\n    i0.ɵɵtemplate(28, AnswerPollComponent_ng_template_7_div_28_Template, 6, 5, \"div\", 27);\n    i0.ɵɵelementStart(29, \"div\")(30, \"p-selectButton\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function AnswerPollComponent_ng_template_7_Template_p_selectButton_ngModelChange_30_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.calendarortable = $event);\n    });\n    i0.ɵɵtemplate(31, AnswerPollComponent_ng_template_7_ng_template_31_Template, 2, 3, \"ng-template\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(32, AnswerPollComponent_ng_template_7_div_32_Template, 3, 1, \"div\", 29);\n    i0.ɵɵtemplate(33, AnswerPollComponent_ng_template_7_div_33_Template, 25, 10, \"div\", 29);\n    i0.ɵɵelementStart(34, \"div\")(35, \"p-button\", 30);\n    i0.ɵɵlistener(\"onClick\", function AnswerPollComponent_ng_template_7_Template_p_button_onClick_35_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.createReponse());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(12);\n    const _r8 = i0.ɵɵreference(20);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.poll == null ? null : ctx_r2.poll.location);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.poll == null ? null : ctx_r2.poll.has_meal);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.personalInformation.nom)(\"ngClass\", i0.ɵɵpureFunction1(18, _c1, _r5.invalid && ctx_r2.submitted || _r5.dirty && _r5.invalid));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r5.invalid && ctx_r2.submitted || _r5.dirty && _r5.invalid);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.loademail);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.personalInformation.mail)(\"ngClass\", i0.ɵɵpureFunction1(20, _c1, _r8.invalid && ctx_r2.submitted || _r8.dirty && _r8.invalid));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r8.invalid && ctx_r2.submitted || _r8.dirty && _r8.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.hasics);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasics);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.poll == null ? null : ctx_r2.poll.has_meal);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.personalInformation == null ? null : ctx_r2.personalInformation.pref);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"options\", ctx_r2.calendarortableoption)(\"ngModel\", ctx_r2.calendarortable);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.calendarortable === \"calendar\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.calendarortable != \"calendar\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.voeuxsoumis);\n  }\n}\nfunction AnswerPollComponent_ng_template_8_app_show_comments_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-show-comments\", 65);\n  }\n  if (rf & 2) {\n    const ctx_r55 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"comments\", ctx_r55.comments);\n  }\n}\nfunction AnswerPollComponent_ng_template_8_small_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 34);\n    i0.ɵɵtext(1, \"L'auteur du commentaire est requis.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AnswerPollComponent_ng_template_8_small_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 34);\n    i0.ɵɵtext(1, \"Le commentaire est requis.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AnswerPollComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtemplate(0, AnswerPollComponent_ng_template_8_app_show_comments_0_Template, 1, 1, \"app-show-comments\", 57);\n    i0.ɵɵelementStart(1, \"div\", 14)(2, \"div\", 15)(3, \"label\", 58);\n    i0.ɵɵtext(4, \"Auteur du commentaire associ\\u00E9 \\u00E0 ce sondage\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 59, 60);\n    i0.ɵɵlistener(\"ngModelChange\", function AnswerPollComponent_ng_template_8_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r60.comment1 = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, AnswerPollComponent_ng_template_8_small_7_Template, 2, 0, \"small\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 15)(9, \"label\", 61);\n    i0.ɵɵtext(10, \"Commentaire\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"textarea\", 62, 63);\n    i0.ɵɵlistener(\"ngModelChange\", function AnswerPollComponent_ng_template_8_Template_textarea_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r62 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r62.commentdesc1 = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, AnswerPollComponent_ng_template_8_small_13_Template, 2, 0, \"small\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\")(15, \"p-button\", 64);\n    i0.ɵɵlistener(\"onClick\", function AnswerPollComponent_ng_template_8_Template_p_button_onClick_15_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r63 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r63.createComment());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r56 = i0.ɵɵreference(6);\n    const _r58 = i0.ɵɵreference(12);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.poll);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.comment1)(\"ngClass\", i0.ɵɵpureFunction1(8, _c1, _r56.invalid && ctx_r3.csubmitted || _r56.dirty && _r56.invalid));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r56.invalid && ctx_r3.csubmitted || _r56.dirty && _r56.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.commentdesc1)(\"ngClass\", i0.ɵɵpureFunction1(10, _c1, _r58.invalid && ctx_r3.csubmitted || _r58.dirty && _r58.invalid));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r58.invalid && ctx_r3.csubmitted || _r58.dirty && _r58.invalid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.commentsoumis);\n  }\n}\nconst _c2 = function () {\n  return {\n    \"marginBottom\": \"1rem\"\n  };\n};\nexport let AnswerPollComponent = /*#__PURE__*/(() => {\n  var _class;\n  class AnswerPollComponent {\n    constructor(messageService,\n    // tslint:disable-next-line:align\n    actRoute, pollService,\n    // tslint:disable-next-line:align\n    modalService) {\n      this.messageService = messageService;\n      this.actRoute = actRoute;\n      this.pollService = pollService;\n      this.modalService = modalService;\n      this.calendarortable = 'calendar';\n      this.personalInformation = {\n        nom: '',\n        mail: '',\n        desc: '',\n        ics: '',\n        pref: false\n      };\n      this.submitted = false;\n      this.csubmitted = false;\n      this.voeuxsoumis = false;\n      this.commentsoumis = false;\n      this.events = [];\n      this.eventsfromics = [];\n      this.allevents = [];\n      this.loadics = false;\n      this.loademail = false;\n      this.comment1 = '';\n      this.commentdesc1 = '';\n      this.uniqueUsers = [];\n      this.userChoices = new Map();\n    }\n    ngOnInit() {\n      this.calendarortableoption = [{\n        icon: 'pi pi-calendar',\n        text: 'Calendrier',\n        value: 'calendar'\n      }, {\n        icon: 'pi pi-table',\n        text: 'Tableau',\n        value: 'table'\n      }];\n      this.actRoute.paramMap.subscribe(params => {\n        this.slugid = params.get('slugid');\n        this.pollService.getPollBySlugId(this.slugid).subscribe(p => {\n          this.poll = p;\n          this.pollService.getComentsBySlugId(this.slugid).subscribe(cs => this.comments = cs);\n          if (this.poll.clos) {\n            this.openModal();\n          }\n          const calendarApi = this.calendarComponent.getApi();\n          // calendarApi.next();\n          this.uniqueUsers.splice(0, this.uniqueUsers.length);\n          this.poll.pollChoices.forEach(pc => {\n            pc.users.forEach(user => {\n              if (this.uniqueUsers.filter(us => us.id === user.id).length === 0) {\n                this.uniqueUsers.push(user);\n                this.userChoices.set(user.id, []);\n              }\n            });\n            const evt = {\n              title: '',\n              start: pc.startDate,\n              end: pc.endDate,\n              resourceEditable: false,\n              eventResizableFromStart: false,\n              backgroundColor: 'red',\n              id: this.getUniqueId(8),\n              extendedProps: {\n                choiceid: pc.id,\n                selected: false\n              }\n            };\n            calendarApi.addEvent(evt, true);\n            this.events.push(evt);\n            this.allevents.push(evt);\n          });\n          this.poll.pollChoices.forEach(pc => {\n            pc.users.forEach(us => {\n              this.userChoices.get(us.id).push(pc);\n            });\n          });\n        });\n      });\n      this.options = {\n        initialView: 'timeGridWeek',\n        plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin],\n        // dateClick: this.handleDateClick.bind(this), // bind is important!\n        /*eventDragStart: (timeSheetEntry, jsEvent, ui, activeView) => {\n          this.eventDragStart(\n              timeSheetEntry, jsEvent, ui, activeView\n          );\n        },\n        eventDragStop: (timeSheetEntry, jsEvent, ui, activeView) => {\n          this.eventDragStop(\n             timeSheetEntry, jsEvent, ui, activeView\n          );\n        },*/\n        //      events: this.events,\n        events: this.allevents,\n        editable: false,\n        droppable: false,\n        //      selectMirror: true,\n        eventResizableFromStart: false,\n        selectable: false,\n        locale: frLocale,\n        themeSystem: 'bootstrap',\n        slotMinTime: '08:00:00',\n        slotMaxTime: '20:00:00',\n        eventMouseEnter: mouseEnterInfo => {},\n        eventClick: info => {\n          if (!info.event.extendedProps.fromics) {\n            if (info.event.extendedProps.selected) {\n              info.event.setExtendedProp('selected', false);\n              const evt = this.events.filter(e => e.extendedProps.choiceid === info.event.extendedProps.choiceid).pop();\n              evt.extendedProps.selected = false;\n              evt.backgroundColor = 'red';\n              info.event.setProp('backgroundColor', 'red');\n              this.poll.pollChoices.filter(pc => pc.id === evt.extendedProps.choiceid)[0].users.splice(-1, 1);\n            } else {\n              info.event.setExtendedProp('selected', true);\n              const evt = this.events.filter(e => e.extendedProps.choiceid === info.event.extendedProps.choiceid).pop();\n              evt.extendedProps.selected = true;\n              evt.backgroundColor = 'green';\n              info.event.setProp('backgroundColor', 'green');\n              this.poll.pollChoices.filter(pc => pc.id === evt.extendedProps.choiceid)[0].users.push({\n                id: -1\n              });\n            }\n          }\n          //        info.event.remove();\n        }\n      };\n    }\n\n    updateEvent($event, event) {\n      event.extendedProps.selected = $event.checked;\n      if ($event.checked) {\n        event.backgroundColor = 'green';\n        this.poll.pollChoices.filter(pc => pc.id === event.extendedProps.choiceid)[0].users.push({\n          id: -1\n        });\n      } else {\n        event.backgroundColor = 'red';\n        this.poll.pollChoices.filter(pc => pc.id === event.extendedProps.choiceid)[0].users.splice(-1, 1);\n      }\n    }\n    createComment() {\n      if (this.comment1 && this.commentdesc1) {\n        const c = {\n          content: this.commentdesc1,\n          auteur: this.comment1\n        };\n        this.pollService.addComment4Poll(this.slugid, c).subscribe(e => {\n          this.messageService.add({\n            severity: 'success',\n            summary: 'Données enregistrées',\n            detail: 'Merci pour ce commentaire'\n          });\n          this.pollService.getComentsBySlugId(this.poll?.slug).subscribe(cs => this.comments = cs);\n          this.commentsoumis = true;\n        });\n        return;\n      }\n      this.messageService.add({\n        severity: 'warn',\n        summary: 'Données incomplètes',\n        detail: 'Veuillez remplir les champs requis'\n      });\n      this.csubmitted = true;\n    }\n    createReponse() {\n      if (this.personalInformation.nom && this.personalInformation.mail && this.events.filter(e => e.extendedProps.selected).length > 0 && (this.personalInformation.desc || !this.personalInformation.pref)) {\n        const cu = {\n          username: this.personalInformation.nom,\n          mail: this.personalInformation.mail,\n          pref: this.personalInformation.desc,\n          ics: this.personalInformation.ics,\n          choices: this.events.filter(e => e.extendedProps.selected).map(x => x.extendedProps.choiceid)\n        };\n        this.pollService.updateChoice4user(cu).subscribe(e => {\n          //  cu.choices.forEach(c => this.poll.pollChoices.filter( c1 => c1.id === c)[0].users.push(e));\n          //  if (this.uniqueUsers.filter(u1 => u1.id === e.id ).length === 0) {\n          //    this.uniqueUsers.push(e);\n          // }\n          this.messageService.add({\n            severity: 'success',\n            summary: 'Données enregistrées',\n            detail: 'Merci pour votre participation'\n          });\n          this.voeuxsoumis = true;\n        });\n        return;\n      }\n      this.messageService.add({\n        severity: 'warn',\n        summary: 'Données incomplètes',\n        detail: 'Veuillez remplir les champs requis et sélectioner au moins une date'\n      });\n      this.submitted = true;\n    }\n    getICS() {\n      this.loadics = true;\n      this.pollService.getICS(this.slugid, this.personalInformation.ics).subscribe(res => {\n        this.loadics = false;\n        const calendarApi = this.calendarComponent.getApi();\n        if (res.eventdtos.length > 0) {\n          this.eventsfromics.forEach(eid => {\n            const index = this.allevents.indexOf(eid);\n            if (index > -1) {\n              this.allevents.splice(index, 1);\n            }\n            calendarApi.getEventById(eid.id)?.remove();\n          });\n          this.eventsfromics = [];\n        }\n        console.log(res);\n        res.eventdtos.forEach(evtdto => {\n          const evt1 = {\n            title: evtdto.description,\n            start: evtdto.startDate,\n            end: evtdto.endDate,\n            resourceEditable: false,\n            eventResizableFromStart: false,\n            id: this.getUniqueId(8),\n            backgroundColor: 'blue',\n            extendedProps: {\n              fromics: true\n            }\n          };\n          const eventAPI = calendarApi.addEvent(evt1, true);\n          this.eventsfromics.push(evt1);\n          this.allevents.push(evt1);\n        });\n        const unselected = this.events.map(ev => ev.extendedProps.choiceid);\n        res.selectedChoices.forEach(e => {\n          const index = unselected.indexOf(e);\n          if (index > -1) {\n            unselected.splice(index, 1);\n          }\n          const evt1 = this.events.filter(ev => ev.extendedProps.choiceid === e)[0];\n          const evt2 = calendarApi.getEventById(evt1.id);\n          evt1.backgroundColor = 'red';\n          evt1.extendedProps.selected = false;\n          evt2.setProp('backgroundColor', 'red');\n          //        this.poll.pollChoices.filter(pc => pc.id === evt1.extendedProps.choiceid)[0].users.push({ id: -1 });\n        });\n\n        unselected.forEach(e => {\n          const evt1 = this.events.filter(ev => ev.extendedProps.choiceid === e)[0];\n          const evt2 = calendarApi.getEventById(evt1.id);\n          evt1.backgroundColor = 'green';\n          evt1.extendedProps.selected = true;\n          evt2.setProp('backgroundColor', 'green');\n          this.poll.pollChoices.filter(pc => pc.id === evt1.extendedProps.choiceid)[0].users.push({\n            id: -1\n          });\n        });\n      }, err => {\n        this.loadics = false;\n        this.messageService.add({\n          severity: 'warn',\n          summary: 'Ne peut récupérer l\\'agenda à partir de l\\'adresse de l\\'ics',\n          detail: 'Une erreur s\\'est produite au moment de la récupération de l\\'agenda'\n        });\n      });\n    }\n    openModal() {\n      const modalRef = this.modalService.open(ModalPollClosComponent, {\n        beforeDismiss: () => false,\n        centered: true,\n        windowClass: 'lgModal',\n        backdrop: 'static'\n      });\n      modalRef.componentInstance.poll = this.poll;\n    }\n    getUserFromMail() {}\n    getUniqueId(parts) {\n      const stringArr = [];\n      for (let i = 0; i < parts; i++) {\n        // tslint:disable-next-line:no-bitwise\n        const S4 = ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n        stringArr.push(S4);\n      }\n      return stringArr.join('-');\n    }\n  }\n  _class = AnswerPollComponent;\n  _class.ɵfac = function AnswerPollComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.PollService), i0.ɵɵdirectiveInject(i4.NgbModal));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-answer-poll\"]],\n    viewQuery: function AnswerPollComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.calendarComponent = _t.first);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([MessageService, PollService, FullCalendarComponent, NgbModal])],\n    decls: 9,\n    vars: 5,\n    consts: [[1, \"Container\"], [\"src\", \"assets/flat_logo.png\", \"alt\", \"Logo Simba\", \"height\", \"50px\", 3, \"ngStyle\"], [3, \"slug\", \"padURL\", \"talkToURL\"], [\"pTemplate\", \"title\"], [\"pTemplate\", \"subtitle\"], [\"pTemplate\", \"content\"], [\"pTemplate\", \"footer\"], [1, \"Dates\"], [1, \"Poll_Infos\"], [1, \"Poll_Location\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", 1, \"feather\", \"feather-map-pin\"], [\"d\", \"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"], [\"cx\", \"12\", \"cy\", \"10\", \"r\", \"3\"], [\"class\", \"Poll_Has_Meal\", 4, \"ngIf\"], [1, \"p-fluid\"], [1, \"p-field\"], [\"for\", \"nom\"], [\"id\", \"nom\", \"type\", \"text\", \"required\", \"\", \"pInputText\", \"\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"nom\", \"ngModel\"], [\"class\", \"p-error\", 4, \"ngIf\"], [\"for\", \"mail\"], [1, \"p-input-icon-right\"], [\"class\", \"pi pi-spin pi-spinner\", 4, \"ngIf\"], [\"id\", \"mail\", \"type\", \"email\", \"required\", \"\", \"pInputText\", \"\", 3, \"ngModel\", \"ngClass\", \"change\", \"ngModelChange\"], [\"mail\", \"ngModel\"], [2, \"font-family\", \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'\", \"font-size\", \"1rem\", \"font-weight\", \"normal\"], [3, \"ngModel\", \"ngModelChange\"], [\"class\", \"p-field\", 4, \"ngIf\"], [3, \"options\", \"ngModel\", \"ngModelChange\"], [4, \"ngIf\"], [\"label\", \"Soumettre voeux\", \"icon\", \"pi pi-angle-left\", 3, \"disabled\", \"onClick\"], [1, \"Poll_Has_Meal\"], [\"aria-hidden\", \"true\", \"width\", \"20\", \"height\", \"20\", \"focusable\", \"false\", \"data-prefix\", \"fas\", \"data-icon\", \"utensils\", \"role\", \"img\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 416 512\", 1, \"feather\"], [\"fill\", \"currentColor\", \"d\", \"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z\"], [1, \"p-error\"], [1, \"pi\", \"pi-spin\", \"pi-spinner\"], [\"for\", \"ics\"], [\"id\", \"ics\", \"type\", \"text\", \"pInputText\", \"\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"for\", \"desc\"], [\"id\", \"desc\", \"required\", \"\", \"pInputTextarea\", \"\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"desc\", \"ngModel\"], [3, \"options\"], [\"calendar\", \"\"], [1, \"container-fluid\"], [1, \"table-responsive-sm\", \"card\"], [1, \"table\"], [\"rowspan\", \"2\"], [\"class\", \"text-light\", \"style\", \"text-align: center;background-color: #545B62\", 4, \"ngFor\", \"ngForOf\"], [\"style\", \"text-align: center\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"nomvotant\", \"type\", \"text\", \"required\", \"\", \"pInputText\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"nomvotant\", \"\"], [1, \"text-light\", 2, \"text-align\", \"center\", \"background-color\", \"#545B62\"], [2, \"text-align\", \"center\"], [\"type\", \"text\", \"pInputText\", \"\", 3, \"disabled\", \"ngModel\"], [3, \"disabled\", \"binary\", \"ngModel\"], [3, \"binary\", \"ngModel\", \"onChange\"], [3, \"comments\", 4, \"ngIf\"], [\"for\", \"comment\"], [\"id\", \"comment\", \"type\", \"text\", \"required\", \"\", \"pInputText\", \"\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"comment\", \"ngModel\"], [\"for\", \"commentdesc\"], [\"id\", \"commentdesc\", \"required\", \"\", \"pInputTextarea\", \"\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"commentdesc\", \"ngModel\"], [\"label\", \"Ajouter commentaire\", \"icon\", \"pi pi-angle-left\", 3, \"disabled\", \"onClick\"], [3, \"comments\"]],\n    template: function AnswerPollComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"img\", 1)(2, \"app-top-bar\", 2);\n        i0.ɵɵelementStart(3, \"p-card\");\n        i0.ɵɵelement(4, \"p-toast\");\n        i0.ɵɵtemplate(5, AnswerPollComponent_ng_template_5_Template, 2, 1, \"ng-template\", 3);\n        i0.ɵɵtemplate(6, AnswerPollComponent_ng_template_6_Template, 4, 3, \"ng-template\", 4);\n        i0.ɵɵtemplate(7, AnswerPollComponent_ng_template_7_Template, 36, 22, \"ng-template\", 5);\n        i0.ɵɵtemplate(8, AnswerPollComponent_ng_template_8_Template, 16, 12, \"ng-template\", 6);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(4, _c2));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"slug\", ctx.poll == null ? null : ctx.poll.slug)(\"padURL\", ctx.poll == null ? null : ctx.poll.padURL)(\"talkToURL\", ctx.poll == null ? null : ctx.poll.tlkURL);\n      }\n    },\n    dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i5.NgStyle, i6.DefaultValueAccessor, i6.NgControlStatus, i6.RequiredValidator, i6.NgModel, i7.FullCalendarComponent, i8.Toast, i1.PrimeTemplate, i9.InputSwitch, i10.Card, i11.Button, i12.InputText, i13.InputTextarea, i14.SelectButton, i15.Checkbox, i16.TopBarComponent, i17.ShowCommentsComponent, i5.DatePipe, i5.KeyValuePipe, i18.DateagoPipe, i19.UsernamePipePipe, i20.Selecteddate4userPipePipe],\n    styles: [\"[_ngcontent-%COMP%]:root{--header-height: 180px;--participant-width: 230px;--cell-width: 65px;--cell-height: 40px;--new-participant-height: 65px;--cell-padding: 1rem;--color-new-participant: #E6E6FF;--color-vote-yes: #E6E6FF;--color-vote-no:rgb(254,246,246) }ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.Poll_Has_Meal[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1}.Poll_Vote_Wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.Poll_Vote_Content[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;justify-content:center;max-width:100%;max-height:390px;overflow-y:scroll;border-radius:5px}.Cell_Poll_Header[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700}.Cell_Option[_ngcontent-%COMP%]   .Cell_Poll_Header[_ngcontent-%COMP%], .Cell_Option_Votes[_ngcontent-%COMP%]{border-left:1px solid black}.Cell_Options[_ngcontent-%COMP%]{display:flex;flex-direction:row}.Cell_Option[_ngcontent-%COMP%]{display:flex;flex-direction:column}.Cell_Participants_Header[_ngcontent-%COMP%], .Cell_Participant_Count[_ngcontent-%COMP%], .Cell_New_Participant[_ngcontent-%COMP%], .Cell_Participant[_ngcontent-%COMP%]{width:var(--participant-width)}.Cell_Option_Name[_ngcontent-%COMP%], .Cell_Option_Count[_ngcontent-%COMP%], .Cell_Option_New_Participant_Vote[_ngcontent-%COMP%], .Cell_Option_Vote_Yes[_ngcontent-%COMP%], .Cell_Option_Vote_No[_ngcontent-%COMP%]{width:var(--cell-width)}.Cell_Option_New_Participant_Vote[_ngcontent-%COMP%]{height:50px}.Checkbox_Btn.LastCheck[_ngcontent-%COMP%]{border-radius:0 0 5px}.Cell_Participants_Header[_ngcontent-%COMP%], .Cell_Option_Name[_ngcontent-%COMP%], .Cell_Header_Name[_ngcontent-%COMP%]{height:var(--header-height)}.Cell_Participant_Count[_ngcontent-%COMP%]{padding:1rem}.Cell_Participants_Header[_ngcontent-%COMP%], .Cell_Participant_Count[_ngcontent-%COMP%], .Cell_Option_Count[_ngcontent-%COMP%], .Cell_Option_Vote_Yes[_ngcontent-%COMP%], .Cell_Option_Vote_No[_ngcontent-%COMP%]{padding:var(--cell-padding);text-align:center;justify-content:center}.Poll_Vote_Content[_ngcontent-%COMP%]{border:1px solid #E6E6FF}.Cell_Option_Name[_ngcontent-%COMP%], .Cell_Participants_Header[_ngcontent-%COMP%]{border-bottom:1px solid black}.Cell_Participant[_ngcontent-%COMP%], .Cell_Vote[_ngcontent-%COMP%]{height:50px;padding:1rem;display:flex;align-items:center;justify-content:center}.Cell_Option_New_Participant_Vote[_ngcontent-%COMP%]{background-color:var(--color-new-participant)}.Cell_Option_Vote_Yes[_ngcontent-%COMP%]{background-color:var(--color-vote-yes)}.Cell_Option_Vote_No[_ngcontent-%COMP%]{background-color:var(--color-vote-no)}.Cell_Options[_ngcontent-%COMP%]{overflow-x:scroll}.Cell_New_Participant_Input[_ngcontent-%COMP%]{height:100%;box-sizing:border-box;border-radius:0;padding:10px}.Cell_New_Participant_Input.error[_ngcontent-%COMP%]{border:2px solid #EF4E4E}.Poll_View_Btn[_ngcontent-%COMP%]{flex:1 1;border:1px solid #1D0EBE;display:flex;color:#4d3df7;align-items:center;justify-content:center;outline:none;cursor:pointer;font-weight:500;padding:.5rem 1.2rem;font-size:1rem}.Poll_View_Btn[_ngcontent-%COMP%]:first-child{border-radius:5px 0 0 5px}.Poll_View_Btn[_ngcontent-%COMP%]:last-child{border-radius:0 5px 5px 0}.Poll_View_Btn.active[_ngcontent-%COMP%]{background-color:#4d3df7;color:#fff}.Poll_Btns[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem}.Meal_Preferences_Toggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;margin-top:1rem}.Poll_Location[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:1}.feather[_ngcontent-%COMP%]{margin-right:1rem}.Cell_Header[_ngcontent-%COMP%]{width:var(--participant-width)}.Poll_Has_Meal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.Poll_Description_Title[_ngcontent-%COMP%]{font-size:.8rem;color:#243b53}.Poll_Infos[_ngcontent-%COMP%]{display:flex}.Poll_Info[_ngcontent-%COMP%]{flex:1}.green[_ngcontent-%COMP%]{background-color:#199473}.green[_ngcontent-%COMP%]:hover{background-color:#147d64}.Poll_Vote_Action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1rem}.Cell_Poll_Header.Cell_Option_Name[_ngcontent-%COMP%]{width:100%!important}.selected[_ngcontent-%COMP%]{background-color:#65d6ad;color:#014d40}.Poll_Subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;font-size:1rem;margin-top:1.5rem}.Dates[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.8rem;color:gray}.Pad_Url[_ngcontent-%COMP%]{display:flex;align-items:center}.Edit_Link[_ngcontent-%COMP%]{margin-left:1rem;font-weight:500;color:#4d3cf7;text-decoration:none}.Edit_Link[_ngcontent-%COMP%]:hover{color:#1d0ebe}.Link[_ngcontent-%COMP%]{text-decoration:none;color:#4d3cf7}.Link[_ngcontent-%COMP%]:hover{text-decoration:underline}.Cell_Day[_ngcontent-%COMP%]{background-color:#4d3cf7;color:#fff;padding:1rem;text-align:center}.Poll_Start_Date[_ngcontent-%COMP%]{padding:5px}.Poll_Date[_ngcontent-%COMP%]{text-align:center;padding:8px;color:#4d3cf7}.Checkbox_Btn[_ngcontent-%COMP%]{width:65px;height:50px;border:none;outline:none;text-align:center;transition:background-color .3s linear;border:1px solid #4d3cf7}.Checkbox_Btn.Active[_ngcontent-%COMP%]{background-color:#4d3cf7;color:#fff}.Cell_New_Participant[_ngcontent-%COMP%]{height:50px}.Links[_ngcontent-%COMP%]{display:flex;font-weight:600;width:100%;flex-direction:row;justify-content:space-between;background-color:#4d3df7;border-radius:5px 5px 0 0;box-shadow:0 2px 4px #0000001a}.Links_Right[_ngcontent-%COMP%], .Links_Left[_ngcontent-%COMP%]{display:flex}.Feat_Link[_ngcontent-%COMP%]{padding:.7rem 1rem;text-decoration:none;color:#fff;display:flex;align-items:center;transition:all .3s linear;cursor:pointer}.Feat_Link[_ngcontent-%COMP%]:last-child{border-radius:0 5px 0 0}.Feat_Link.Unique[_ngcontent-%COMP%]{border-radius:5px 5px 0 0!important}.Feat_Link[_ngcontent-%COMP%]:hover{background-color:#0c008c}.MealPref[_ngcontent-%COMP%]{padding:1rem 0;font-size:1.1rem}.Author_MealPref[_ngcontent-%COMP%], .Author_Comment[_ngcontent-%COMP%]{font-weight:700;color:#4d3cf7}.orange[_ngcontent-%COMP%]{background-color:#f7d070}.orange[_ngcontent-%COMP%]:hover{background-color:#e9b949}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.Export_Modal[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;width:500px;z-index:2;display:flex;align-items:center;justify-content:center;height:160px;border-radius:3px;box-shadow:0 2px 4px #0000001a}.Export[_ngcontent-%COMP%]{padding:20px;height:100%;flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;color:#4d3cf7;font-size:1.2rem;font-weight:700;transition:background-color .3s linear;cursor:pointer;text-decoration:none}.Export[_ngcontent-%COMP%]:hover{background-color:#4d3cf7;color:#fff}.Export[_ngcontent-%COMP%]:first-child{border-right:4px solid #4d3cf7;border-radius:3px 0 0 3px}.Export[_ngcontent-%COMP%]:last-child{border-radius:0 3px 3px 0}.Export_Icon[_ngcontent-%COMP%]{margin:1rem}.Poll_Informations[_ngcontent-%COMP%]{background-color:#fff;width:100%;margin-top:1rem;box-shadow:0 2px 4px #0000001a;border-radius:5px}.Meal_Preferences[_ngcontent-%COMP%]{padding:1rem;border-bottom:2px solid #F0F4F8}.Disabled[_ngcontent-%COMP%]{background-color:#ccc}.Disabled[_ngcontent-%COMP%]:hover{color:#4d3cf7;background-color:#ccc;cursor:default}.Comment[_ngcontent-%COMP%]{padding:1rem}\"]\n  });\n  return AnswerPollComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}